import{AdditiveBlending,AmbientLight,ArrowHelper,AxesHelper,BoxGeometry,BoxHelper,Camera,CameraHelper,CircleGeometry,Color,ConeGeometry,CustomBlending,CylinderGeometry,DirectionalLight,DirectionalLightHelper,DodecahedronGeometry,Euler,ExtrudeGeometry,Font,FontLoader,Geometry,GridHelper,Group,IcosahedronGeometry,LensFlare,Light,Line,LineBasicMaterial,LineLoop,LineSegments,Material,Mesh,MeshStandardMaterial,MultiplyBlending,NoBlending,NormalBlending,Object3D,OctahedronGeometry,OrthographicCamera,PerspectiveCamera,PlaneGeometry,PointLight,Points,PointsMaterial,PolarGridHelper,RingGeometry,Scene,ShadowMaterial,SphereGeometry,Spherical,SpotLight,Sprite,SpriteMaterial,SubtractiveBlending,TetrahedronGeometry,TextGeometry,TextureLoader,TorusGeometry,TorusKnotGeometry,Vector3,WebGLRenderer}from'https://unpkg.com/three@0.89.0/build/three.module.js';var boolean=Boolean,string=[String],number=[String,Number],vector3=[String,Vector3],spherical=[String,Spherical],euler=[String,Euler],VglGeometry={render:function(a){var b=this.$slots.default;return b?a('div',b):void 0},inject:['vglNamespace'],props:{name:string},computed:{inst:function(){return new Geometry}},watch:{inst:{handler:function(a){this.$set(this.vglNamespace.geometries,this.name,a)},immediate:!0},name:function(a,b){this.vglNamespace.geometries[b]===this.inst&&this.$delete(this.vglNamespace.geometries,b),this.$set(this.vglNamespace.geometries,a,this.inst)}},beforeDestroy:function(){this.vglNamespace.geometries[this.name]===this.inst&&this.$delete(this.vglNamespace.geometries,this.name)}},VglMinimumRenderer={render:function(a){var b=this.$slots.default;return b?a('div',b):void 0}},VglHedronGeometry={mixins:[VglGeometry],props:{radius:{type:number,default:1},detail:{type:number,default:0}}},VglMaterialListener={inject:['vglNamespace'],props:{material:string},computed:{materialObject:function(){return this.vglNamespace.materials[this.material]}},watch:{inst:{handler:function(a,b){this.materialObject&&(!b&&this.materialObject.addEventListener('update',this.vglObject3d.update),Object.assign(a,{material:this.materialObject}))},immediate:!0},materialObject:function(a,b){a!==b&&(b&&b.removeEventListener('update',this.vglObject3d.update),a&&(a.addEventListener('update',this.vglObject3d.update),Object.assign(this.inst,{material:a})),this.vglObject3d.update())}},beforeDestroy:function(){this.materialObject&&this.materialObject.removeEventListener('update',this.vglObject3d.update)}},VglGeometryListener={inject:['vglNamespace'],props:{geometry:string},computed:{geometryObject:function(){return this.vglNamespace.geometries[this.geometry]}},watch:{inst:{handler:function(a,b){this.geometryObject&&(!b&&this.geometryObject.addEventListener('update',this.vglObject3d.update),Object.assign(a,{geometry:this.geometryObject}))},immediate:!0},geometryObject:function(a,b){a!==b&&(b&&b.removeEventListener('update',this.vglObject3d.update),a&&(a.addEventListener('update',this.vglObject3d.update),Object.assign(this.inst,{geometry:a})),this.vglObject3d.update())}},beforeDestroy:function(){this.geometryObject&&this.geometryObject.removeEventListener('update',this.vglObject3d.update)}},VglMapListener={inject:['vglNamespace'],props:{map:string},computed:{texture:function(){return this.vglNamespace.textures[this.map]}},watch:{inst:{handler:function(a,b){this.texture&&(b&&this.texture.removeEventListener('update',b.update),this.texture.addEventListener('update',a.update)),Object.assign(a,{map:this.texture||null})},immediate:!0},texture:function(a,b){b&&b.removeEventListener('update',this.inst.update),a&&a.addEventListener('update',this.inst.update),Object.assign(this.inst,{map:a||null}),this.inst.update()}}},VglNamespace={mixins:[VglMinimumRenderer],inject:{vglNamespace:{default:function(){var a=this;return Object.defineProperties({},{cameras:{get:function(){return a.cameras}},scenes:{get:function(){return a.scenes}}})}}},data:function(){var a={}.hasOwnProperty.call(this.vglNamespace,'cameras')?{cameras:Object.create(null),scenes:Object.create(null)}:{};return Object.assign(a,{curves:Object.create(this.vglNamespace.curves||null),fonts:Object.create(this.vglNamespace.fonts||null),geometries:Object.create(this.vglNamespace.geometries||null),materials:Object.create(this.vglNamespace.materials||null),textures:Object.create(this.vglNamespace.textures||null)})},watch:{"vglNamespace.curves":function(a){this.curves=Object.assign(Object.create(a),this.curves)},"vglNamespace.fonts":function(a){this.fonts=Object.assign(Object.create(a),this.fonts)},"vglNamespace.geometries":function(a){this.geometries=Object.assign(Object.create(a),this.geometries)},"vglNamespace.materials":function(a){this.materials=Object.assign(Object.create(a),this.materials)},"vglNamespace.textures":function(a){this.textures=Object.assign(Object.create(a),this.textures)}},provide:function(){var a=this;return{vglNamespace:Object.create(this.vglNamespace,{curves:{get:function(){return a.curves}},fonts:{get:function(){return a.fonts}},geometries:{get:function(){return a.geometries}},materials:{get:function(){return a.materials}},textures:{get:function(){return a.textures}}})}}},slicedToArray=function(){function a(a,b){var c,d=[],e=!0,f=!1;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(d.push(g.value),!(b&&d.length===b));e=!0);}catch(a){f=!0,c=a}finally{try{!e&&h['return']&&h['return']()}finally{if(f)throw c}}return d}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),toConsumableArray=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)};/**
 * Returns a parsed vector3 object when the argument is a string.
 * Otherwise pass the argument through.
 */function parseVector3(a){return a.isVector3?a:new Vector3().fromArray(a.trim().split(/\s+/).map(function(a){return parseFloat(a)}))}/**
 * Returns a parsed euler object when the argument is a string.
 * Othewise pass the argument through.
 */function parseEuler(a){return a.isEuler?a:new Euler().fromArray(a.trim().split(/\s+/).map(function(a,b){return 3===b?a:parseFloat(a)}))}/**
 * Returns a parsed spherical object when the argument is a string.
 * Otherwise pass the argument through.
 */function parseSpherical(a){var b;return a.isSpherical?a:(b=new Spherical).set.apply(b,toConsumableArray(a.trim().split(/\s+/).map(function(a){return parseFloat(a)}))).makeSafe()}var VglObject3d={mixins:[VglMinimumRenderer],inject:{vglObject3d:{default:function(){var a,b=this,c=[];return{listeners:c,update:function(){a||(b.$nextTick(function(){c.forEach(function(a){a()}),a=!1}),a=!0)}}}}},provide:function(){var a=this;return{vglObject3d:Object.create(this.vglObject3d,{inst:{get:function(){return a.inst}}})}},beforeDestroy:function(){this.inst.parent&&this.inst.parent.remove(this.inst)},computed:{inst:function(){return new Object3D}},props:{position:vector3,rotation:euler,scale:vector3,castShadow:boolean,receiveShadow:boolean,name:string},watch:{inst:{handler:function(a,b){if(b){b.removeEventListener('added',this.vglObject3d.update),b.removeEventListener('removed',this.vglObject3d.update);var c=b.children,d=b.parent;c.length&&a.add.apply(a,toConsumableArray(c)),d&&d.remove(b)}a.addEventListener('added',this.vglObject3d.update),a.addEventListener('removed',this.vglObject3d.update),this.vglObject3d.inst&&this.vglObject3d.inst.add(a),this.position&&this.inst.position.copy(parseVector3(this.position)),this.rotation&&this.inst.rotation.copy(parseEuler(this.rotation)),this.scale&&this.inst.scale.copy(parseVector3(this.scale)),Object.assign(a,{castShadow:this.castShadow,receiveShadow:this.receiveShadow}),this.vglObject3d.update()},immediate:!0},position:function(a){this.inst.position.copy(parseVector3(a)),this.vglObject3d.update()},rotation:function(a){this.inst.rotation.copy(parseEuler(a)),this.vglObject3d.update()},scale:function(a){this.inst.scale.copy(parseVector3(a)),this.vglObject3d.update()},castShadow:function(a){Object.assign(this.inst,{castShadow:a}),this.vglObject3d.update()},receiveShadow:function(a){Object.assign(this.inst,{receiveShadow:a}),this.vglObject3d.update()}}},vglScene={mixins:[VglObject3d],inject:['vglNamespace'],computed:{inst:function(){return new Scene}},created:function(){this.vglObject3d.listeners.push(this.dispatchUpdate)},beforeDestroy:function(){this.vglObject3d.listeners.splice(this.vglObject3d.listeners.indexOf(this.dispatchUpdate),1),this.vglNamespace.scenes[this.name]===this.inst&&this.$delete(this.vglNamespace.scenes,this.name)},methods:{dispatchUpdate:function(){this.inst.dispatchEvent({type:'update'})}},watch:{inst:{handler:function(a){this.$set(this.vglNamespace.scenes,this.name,a)},immediate:!0},name:function(a,b){this.vglNamespace.scenes[b]===this.inst&&this.$delete(this.vglNamespace.scenes,b),this.$set(this.vglNamespace.scenes,a,this.inst)}}},VglCamera={mixins:[VglObject3d],inject:['vglNamespace'],computed:{inst:function(){return new Camera}},props:{orbitTarget:vector3,orbitPosition:spherical},created:function(){this.vglObject3d.listeners.push(this.dispatchUpdate)},beforeDestroy:function(){this.vglObject3d.listeners.splice(this.vglObject3d.listeners.indexOf(this.dispatchUpdate),1),this.vglNamespace.cameras[this.name]===this.inst&&this.$delete(this.vglNamespace.cameras,this.name)},methods:{dispatchUpdate:function(){this.inst.dispatchEvent({type:'update'})},setOrbit:function(){if(this.orbitPosition||this.orbitTarget){var a=this.orbitTarget&&parseVector3(this.orbitTarget);if(this.orbitPosition){var b=this.inst.position.setFromSpherical(parseSpherical(this.orbitPosition));a&&b.add(a)}this.inst.lookAt(a||new Vector3)}}},watch:{inst:{handler:function(a){this.$set(this.vglNamespace.cameras,this.name,a),this.setOrbit()},immediate:!0},name:function(a,b){this.vglNamespace.cameras[b]===this.inst&&this.$delete(this.vglNamespace.cameras,b),this.$set(this.vglNamespace.cameras,a,this.inst)},orbitTarget:function(){this.setOrbit(),this.vglObject3d.update()},orbitPosition:function(){this.setOrbit(),this.vglObject3d.update()}}},vglRenderer={mixins:[VglNamespace],props:{precision:string,alpha:boolean,disablePremultipliedAlpha:boolean,antialias:boolean,disableStencil:boolean,preserveDrawingBuffer:boolean,disableDepth:boolean,logarithmicDepthBuffer:boolean,camera:string,scene:string,shadowMapEnabled:boolean},data:function(){return{el:!1}},computed:{renderer:function(){var a=new WebGLRenderer({precision:this.precision,alpha:this.alpha,premultipliedAlpha:!this.disablePremultipliedAlpha,antialias:this.antialias,stencil:!this.disableStencil,preserveDrawingBuffer:this.preserveDrawingBuffer,depth:!this.disableDepth,logarithmicDepthBuffer:this.logarithmicDepthBuffer});return a.shadowMap.enabled=this.shadowMapEnabled,a},cameraObject:function(){return this.vglNamespace.cameras[this.camera]},sceneObject:function(){return this.vglNamespace.scenes[this.scene]},state:function(){return[this.renderer,this.cameraObject,this.sceneObject,this.el]}},watch:{state:function(a,b){var c=slicedToArray(b,4),d=c[0],e=c[1],f=c[2],g=c[3],h=slicedToArray(a,4),i=h[0],j=h[1],k=h[2],l=h[3];!g&&l?(this.$el.insertBefore(this.renderer.domElement,this.$el.firstChild),this.resizeRenderer(),j&&k&&(this.resizeCamera(),j.addEventListener('update',this.render),k.addEventListener('update',this.render),this.render())):l&&(d!==i&&(this.resizeRenderer(),this.$el.replaceChild(i.domElement,d.domElement),d.dispose()),e&&f&&j&&k?(e!==j&&(this.resizeCamera(),e.removeEventListener('update',this.render),j.addEventListener('update',this.render)),f!==k&&(f.removeEventListener('update',this.render),k.addEventListener('update',this.render))):e&&f?(e.removeEventListener('update',this.render),f.removeEventListener('update',this.render)):j&&k&&(this.resizeCamera(),j.addEventListener('update',this.render),k.addEventListener('update',this.render)),j&&k&&this.render())}},beforeDestroy:function(){this.el&&this.cameraObject&&this.sceneObject&&(this.cameraObject.removeEventListener('update',this.render),this.sceneObject.removeEventListener('update',this.render)),this.renderer.dispose()},methods:{resizeRenderer:function(){this.renderer.setSize(this.$el.clientWidth,this.$el.clientHeight)},resizeCamera:function(){if(this.cameraObject.isPerspectiveCamera)Object.assign(this.cameraObject,{aspect:this.$el.clientWidth/this.$el.clientHeight});else if(this.cameraObject.isOrthographicCamera)Object.assign(this.cameraObject,{left:this.$el.clientWidth/-2,right:this.$el.clientWidth/2,top:this.$el.clientHeight/2,bottom:this.$el.clientHeight/-2});else throw new TypeError('Unexpected camera type.');this.cameraObject.updateProjectionMatrix()},render:function(){this.renderer.render(this.sceneObject,this.cameraObject)}},mounted:function(){this.el=!0},render:function(a){var b=this;return a('div',[a('iframe',{style:{visibility:'hidden',width:'100%',height:'100%'},on:{load:function(a){a.target.contentWindow.addEventListener('resize',function(){b.resizeRenderer(),b.cameraObject&&b.sceneObject&&(b.resizeCamera(),b.render())},!1)}}},this.$slots.default)])}},vglPerspectiveCamera={mixins:[VglCamera],props:{zoom:{type:number,default:1},near:{type:number,default:0.1},far:{type:number,default:2e3},fov:{type:number,default:50}},computed:{inst:function(){return new PerspectiveCamera}},watch:{inst:{handler:function(a){Object.assign(a,{zoom:parseFloat(this.zoom),near:parseFloat(this.near),far:parseFloat(this.far),fov:parseFloat(this.fov)})},immediate:!0},zoom:function(a){Object.assign(this.inst,{zoom:parseFloat(a)}),this.vglObject3d.update()},near:function(a){Object.assign(this.inst,{near:parseFloat(a)}),this.vglObject3d.update()},far:function(a){Object.assign(this.inst,{far:parseFloat(a)}),this.vglObject3d.update()},fov:function(a){Object.assign(this.inst,{fov:parseFloat(a)}),this.vglObject3d.update()}}},vglGroup={mixins:[VglObject3d],computed:{inst:function(){return new Group}}},VglLight={mixins:[VglObject3d],props:{color:{type:string,default:'#fff'},intensity:{type:number,default:1}},computed:{inst:function(){return new Light}},watch:{inst:{handler:function(a){Object.assign(a,{intensity:parseFloat(this.intensity)}),a.color.setStyle(this.color)},immediate:!0},color:function(a){this.inst.color.setStyle(a),this.vglObject3d.update()},intensity:function(a){Object.assign(this.inst,{intensity:parseFloat(a)}),this.vglObject3d.update()}}},vglDirectionalLight={mixins:[VglLight],computed:{inst:function(){return new DirectionalLight}},props:{castShadow:boolean},watch:{inst:{handler:function(a){Object.assign(a,{castShadow:this.castShadow})},immediate:!0},castShadow:function(a){Object.assign(this.inst,{castShadow:a}),this.vglObject3d.update()}}},vglAmbientLight={mixins:[VglLight],computed:{inst:function(){return new AmbientLight}}},VglMaterial={mixins:[VglMinimumRenderer],inject:['vglNamespace'],props:{name:string},computed:{inst:function(){return new Material}},watch:{inst:{handler:function(a){this.$set(this.vglNamespace.materials,this.name,a)},immediate:!0},name:function(a,b){this.vglNamespace.materials[b]===this.inst&&this.$delete(this.vglNamespace.materials,b),this.$set(this.vglNamespace.materials,a,this.inst)}},beforeDestroy:function(){this.vglNamespace.materials[this.name]===this.inst&&this.$delete(this.vglNamespace.materials,this.name)}},vglPointsMaterial={mixins:[VglMaterial],props:{color:{type:string,default:'#fff'},size:{type:number,default:1},disableSizeAttenuation:boolean,lights:boolean},computed:{inst:function(){return new PointsMaterial}},watch:{inst:{handler:function(a){Object.assign(a,{size:parseFloat(this.size),sizeAttenuation:!this.disableSizeAttenuation,lights:this.lights}),a.color.setStyle(this.color)},immediate:!0},color:function(a){this.inst.color.setStyle(a),this.inst.dispatchEvent({type:'update'})},size:function(a){Object.assign(this.inst,{size:parseFloat(a)}),this.inst.dispatchEvent({type:'update'})},disableSizeAttenuation:function(a){Object.assign(this.inst,{sizeAttenuation:!a}),this.inst.dispatchEvent({type:'update'})},lights:function(a){Object.assign(this.inst,{lights:a}),this.inst.dispatchEvent({type:'update'})}}},vglSphereGeometry={mixins:[VglGeometry],props:{radius:{type:number,default:1},widthSegments:{type:number,default:8},heightSegments:{type:number,default:6},phiStart:{type:number,default:0},phiLength:{type:number,default:2*Math.PI},thetaStart:{type:number,default:0},thetaLength:{type:number,default:Math.PI}},computed:{inst:function(){return new SphereGeometry(parseFloat(this.radius),parseInt(this.widthSegments,10),parseInt(this.heightSegments,10),parseFloat(this.phiStart),parseFloat(this.phiLength),parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},vglMeshStandardMaterial={mixins:[VglMaterial,VglMapListener],props:{color:{type:string,default:'#fff'}},computed:{inst:function(){return new MeshStandardMaterial}},watch:{inst:{handler:function(a){a.color.setStyle(this.color)},immediate:!0},color:function(a){this.inst.color.setStyle(a),this.inst.dispatchEvent({type:'update'})}}},vglMesh={mixins:[VglObject3d,VglMaterialListener,VglGeometryListener],computed:{inst:function(){return new Mesh}}},vglPoints={mixins:[VglObject3d,VglMaterialListener,VglGeometryListener],computed:{inst:function(){return new Points}}},vglLineBasicMaterial={mixins:[VglMaterial],props:{color:{type:string,default:'#fff'},lights:boolean,linewidth:{type:number,default:1},linecap:{type:string,default:'round'},linejoin:{type:string,default:'round'}},computed:{inst:function(){return new LineBasicMaterial}},watch:{inst:{handler:function(a){Object.assign(a,{lights:this.lights,linecap:this.linecap,linejoin:this.linejoin,linewidth:parseFloat(this.linewidth)}),a.color.setStyle(this.color)},immediate:!0},color:function(a){this.inst.color.setStyle(a),this.inst.dispatchEvent({type:'update'})},lights:function(a){Object.assign(this.inst,{lights:a}),this.inst.dispatchEvent({type:'update'})},linewidth:function(a){Object.assign(this.inst,{linewidth:parseFloat(a)}),this.inst.dispatchEvent({type:'update'})},linecap:function(a){Object.assign(this.inst,{linecap:a}),this.inst.dispatchEvent({type:'update'})},linejoin:function(a){Object.assign(this.inst,{linejoin:a}),this.inst.dispatchEvent({type:'update'})}}},VglLine={mixins:[VglObject3d,VglMaterialListener,VglGeometryListener],computed:{inst:function(){return new Line}}},vglSprite={mixins:[VglObject3d,VglMaterialListener],computed:{inst:function(){return new Sprite}}},vglBoxGeometry={mixins:[VglGeometry],props:{width:{type:number,default:1},height:{type:number,default:1},depth:{type:number,default:1},widthSegments:{type:number,default:1},heightSegments:{type:number,default:1},depthSegments:{type:number,default:1}},computed:{inst:function(){return new BoxGeometry(parseFloat(this.width),parseFloat(this.height),parseFloat(this.depth),parseInt(this.widthSegments,10),parseInt(this.heightSegments,10),parseInt(this.depthSegments,10))}}},vglCircleGeometry={mixins:[VglGeometry],props:{radius:{type:number,default:1},segments:{type:number,default:8},thetaStart:{type:number,default:0},thetaLength:{type:number,default:2*Math.PI}},computed:{inst:function(){return new CircleGeometry(parseFloat(this.radius),parseInt(this.segments,10),parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},VglLineSegments={mixins:[VglLine],computed:{inst:function(){return new LineSegments}}},vglLineLoop={mixins:[VglLine],computed:{inst:function(){return new LineLoop}}},VglCylinderGeometry={mixins:[VglGeometry],props:{radiusTop:{type:number,default:1},radiusBottom:{type:number,default:1},height:{type:number,default:1},radialSegments:{type:number,default:8},heightSegments:{type:number,default:1},openEnded:boolean,thetaStart:{type:number,default:0},thetaLength:{type:number,default:2*Math.PI}},computed:{inst:function(){return new CylinderGeometry(parseFloat(this.radiusTop),parseFloat(this.radiusBottom),parseFloat(this.height),parseInt(this.radialSegments,10),parseInt(this.heightSegments,10),this.openEnded,parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},vglConeGeometry={mixins:[VglCylinderGeometry],props:{radius:{type:number,default:1}},computed:{inst:function(){return new ConeGeometry(parseFloat(this.radius),parseFloat(this.height),parseInt(this.radialSegments,10),parseInt(this.heightSegments,10),this.openEnded,parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},vglAxesHelper={mixins:[VglLineSegments],props:{size:{type:number,default:1}},computed:{inst:function(){return new AxesHelper(parseFloat(this.size))}}},vglOrthographicCamera={mixins:[VglCamera],props:{zoom:{type:number,default:1},near:{type:number,default:0.1},far:{type:number,default:2e3}},computed:{inst:function(){return new OrthographicCamera}},watch:{inst:{handler:function(a){Object.assign(a,{zoom:parseFloat(this.zoom),near:parseFloat(this.near),far:parseFloat(this.far)})},immediate:!0},zoom:function(a){Object.assign(this.inst,{zoom:parseFloat(a)}),this.vglObject3d.update()},near:function(a){Object.assign(this.inst,{near:parseFloat(a)}),this.vglObject3d.update()},far:function(a){Object.assign(this.inst,{far:parseFloat(a)}),this.vglObject3d.update()}}},vglPlaneGeometry={mixins:[VglGeometry],props:{width:{type:number,default:1},height:{type:number,default:1},widthSegments:{type:number,default:1},heightSegments:{type:number,default:1}},computed:{inst:function(){return new PlaneGeometry(parseFloat(this.width),parseFloat(this.height),parseInt(this.widthSegments,10),parseInt(this.heightSegments,10))}}},vglDodecahedronGeometry={mixins:[VglHedronGeometry],computed:{inst:function(){return new DodecahedronGeometry(parseFloat(this.radius),parseInt(this.detail,10))}}},vglIcosahedronGeometry={mixins:[VglHedronGeometry],computed:{inst:function(){return new IcosahedronGeometry(parseFloat(this.radius),parseInt(this.detail,10))}}},vglOctahedronGeometry={mixins:[VglHedronGeometry],computed:{inst:function(){return new OctahedronGeometry(parseFloat(this.radius),parseInt(this.detail,10))}}},vglRingGeometry={mixins:[VglGeometry],props:{innerRadius:{type:number,default:0.5},outerRadius:{type:number,default:1},thetaSegments:{type:number,default:8},phiSegments:{type:number,default:1},thetaStart:{type:number,default:0},thetaLength:{type:number,default:2*Math.PI}},computed:{inst:function(){return new RingGeometry(parseFloat(this.innerRadius),parseFloat(this.outerRadius),parseInt(this.thetaSegments,10),parseInt(this.phiSegments,10),parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},vglTetrahedronGeometry={mixins:[VglHedronGeometry],computed:{inst:function(){return new TetrahedronGeometry(parseFloat(this.radius),parseInt(this.detail,10))}}},vglTorusGeometry={mixins:[VglGeometry],props:{radius:{type:number,default:1},tube:{type:number,default:0.4},radialSegments:{type:number,default:8},tubularSegments:{type:number,default:6},arc:{type:number,default:2*Math.PI}},computed:{inst:function(){return new TorusGeometry(parseFloat(this.radius),parseFloat(this.tube),parseInt(this.radialSegments,10),parseInt(this.tubularSegments,10),parseFloat(this.arc))}}},vglTorusKnotGeometry={mixins:[VglGeometry],props:{radius:{type:number,default:1},tube:{type:number,default:0.4},radialSegments:{type:number,default:8},tubularSegments:{type:number,default:64},p:{type:number,default:2},q:{type:number,default:3}},computed:{inst:function(){return new TorusKnotGeometry(parseFloat(this.radius),parseFloat(this.tube),parseInt(this.tubularSegments,10),parseInt(this.radialSegments,10),parseInt(this.p,10),parseInt(this.q,10))}}},vglArrowHelper={mixins:[VglObject3d],props:{dir:vector3,length:{type:number,default:1},headLength:number,headWidth:number,color:{type:string,default:'#ff0'}},computed:{inst:function(){return new ArrowHelper(new Vector3(0,1),new Vector3())},lengths:function(){return[parseFloat(this.length),this.headLength?parseFloat(this.headLength):void 0,this.headWidth?parseFloat(this.headWidth):void 0]}},watch:{inst:{handler:function(a){a.setDirection(parseVector3(this.dir).normalize()),a.setLength.apply(a,toConsumableArray(this.lengths)),a.setColor(new Color(this.color))},immediate:!0},dir:function(a){this.inst.setDirection(parseVector3(a).normalize()),this.vglObject3d.update()},lengths:function(a){var b;(b=this.inst).setLength.apply(b,toConsumableArray(a)),this.vglObject3d.update()},color:function(a){this.inst.setColor(new Color(a)),this.vglObject3d.update()}}},vglBoxHelper={mixins:[VglLineSegments],props:{color:{type:string,default:'#ff0'}},computed:{inst:function(){return new BoxHelper}},watch:{inst:{handler:function(a){a.setFromObject(this.vglObject3d.inst),a.material.color.setStyle(this.color)},immediate:!0},"vglObject3d.inst":function(a){this.inst.setFromObject(a),this.vglObject3d.update()},color:function(a){this.inst.material.color.setStyle(a),this.vglObject3d.update()}}},vglPointLight={mixins:[VglLight],props:{distance:{type:number,default:0},decay:{type:number,default:1}},computed:{inst:function(){return new PointLight}},watch:{inst:{handler:function(a){Object.assign(a,{distance:parseFloat(this.distance),decay:parseFloat(this.decay)})},immediate:!0},distance:function(a){Object.assign(this.inst,{distance:parseFloat(a)}),this.vglObject3d.update()},decay:function(a){Object.assign(this.inst,{decay:parseFloat(a)}),this.vglObject3d.update()}}},vglSpotLight={mixins:[VglLight],props:{distance:{type:number,default:0},decay:{type:number,default:1},angle:{type:number,default:Math.PI/3},penumbra:{type:number,default:0},target:{type:vector3}},computed:{inst:function(){return new SpotLight}},beforeDestroy:function(){this.inst.target.parent&&this.inst.target.parent.remove(this.inst.target)},watch:{inst:{handler:function(a,b){b&&b.target.parent&&b.target.parent.remove(b.target),this.vglObject3d.inst&&this.vglObject3d.inst.add(a.target),parseVector3(this.target,a.target),Object.assign(a,{distance:parseFloat(this.distance),decay:parseFloat(this.decay),angle:parseFloat(this.angle),penumbra:parseFloat(this.penumbra)})},immediate:!0},distance:function(a){Object.assign(this.inst,{distance:parseFloat(a)}),this.vglObject3d.update()},decay:function(a){Object.assign(this.inst,{decay:parseFloat(a)}),this.vglObject3d.update()},angle:function(a){Object.assign(this.inst,{angle:parseFloat(a)}),this.vglObject3d.update()},penumbra:function(a){Object.assign(this.inst,{penumbra:parseFloat(a)}),this.vglObject3d.update()},target:function(a){parseVector3(a,this.inst.target.position),this.vglObject3d.update()}}},vglTexture={mixins:[VglMinimumRenderer],inject:['vglNamespace'],props:{src:string,name:string},computed:{inst:function(){return new TextureLoader().load(this.src)}},watch:{inst:{handler:function(a){this.$set(this.vglNamespace.textures,this.name,a)},immediate:!0},name:function(a,b){this.vglNamespace.textures[b]===this.inst&&this.$delete(this.vglNamespace.textures,b),this.$set(this.vglNamespace.textures,a,this.inst)}},beforeDestroy:function(){this.vglNamespace.textures[this.name]===this.inst&&this.$delete(this.vglNamespace.textures,this.name)}},blendingMode={no:NoBlending,normal:NormalBlending,additive:AdditiveBlending,subtractive:SubtractiveBlending,multiply:MultiplyBlending,custom:CustomBlending},vglLensFlare={mixins:[VglMinimumRenderer],inject:['vglTextures','vglLensFlare'],props:{texture:string,size:{type:number,default:-1},distance:{type:number,default:0},blending:{type:number,default:'normal'},color:{type:string,default:'#fff'},opacity:{type:number,default:1}},data:function(){return{inst:{size:-1,distance:0,blending:NormalBlending,color:new Color('#fff'),opacity:1}}},computed:{textureObject:function(){return this.vglNamespace[this.texture]}},beforeDestroy:function(){if(this.inst.texture){var a=this.vglLensFlare.inst.lensFlares;a.splice(a.indexOf(this.inst),1),this.vglLensFlare.update()}},watch:{textureObject:{handler:function(a,b){if(a&&b)Object.assign(this.inst,{texture:a});else if(a){this.vglLensFlare.inst.add(a,this.inst.size,this.inst.distance,this.inst.blending,this.inst.color,this.inst.opacity);var c=this.vglLensFlare.lensFlares.slice(-1),d=slicedToArray(c,1);this.inst=d[0]}else{var e=this.vglLensFlare.inst.lensFlares;e.splice(e.indexOf(this.inst),1),this.$delete(this.inst,'texture')}this.vglLensFlare.update()},immediate:!0},size:function(a){Object.assign(this.inst,{size:parseFloat(a)}),this.vglLensFlare.update()},distance:function(a){Object.assign(this.inst,{distance:parseFloat(a)}),this.vglLensFlare.update()},blending:function(a){Object.assign(this.inst,{blending:blendingMode[a]}),this.vglLensFlare.update()},color:function(a){this.inst.color.setStyle(a),this.vglLensFlare.update()},opacity:function(a){Object.assign(this.inst,{opacity:parseFloat(a)}),this.vglLensFlare.update()}}},vglLensFlareProvider={mixins:[VglObject3d],provide:function(){var a=this;return{vglLensFlare:Object.defineProperties({},{inst:{get:function(){return a.inst}},update:{value:this.vglObject3d.update}})}},computed:{inst:function(){return new LensFlare}}},vglFont={mixins:[VglMinimumRenderer],inject:['vglNamespace'],props:{src:string,name:string},data:function(){return{inst:new Font({})}},watch:{inst:{handler:function(a){this.$set(this.vglNamespace.fonts,this.name,a)},immediate:!0},src:{handler:function(a){var b=this;new FontLoader().load(a,function(c){a===b.src&&(b.inst=c)})},immediate:!0},name:function(a,b){this.vglNamespace.fonts[b]===this.inst&&this.$delete(this.vglNamespace.fonts,b),this.$set(this.vglNamespace.fonts,a,this.inst)}},beforeDestroy:function(){this.vglNamespace.fonts[this.name]===this.inst&&this.$delete(this.vglNamespace.fonts,this.name)}},VglExtrudeGeometry={mixins:[VglGeometry],computed:{inst:function(){return new ExtrudeGeometry([],{})}}},vglTextGeometry={mixins:[VglExtrudeGeometry],inject:['vglNamespace'],props:{text:string,font:string,size:{type:number,default:100},height:{type:number,default:50},curveSegments:{type:number,default:12},bevelEnabled:boolean,bevelThickness:{type:number,default:10},bevelSize:{type:number,default:8},bevelSegments:{type:number,default:3}},computed:{inst:function(){return new TextGeometry(this.text,{font:this.vglNamespace.fonts[this.font],size:parseFloat(this.size),height:parseFloat(this.height),curveSegments:parseInt(this.curveSegments,10),bevelEnabled:this.bevelEnabled,bevelThickness:parseFloat(this.bevelThickness),bevelSize:parseFloat(this.bevelSize),bevelSegments:parseInt(this.bevelSegments,10)})}}},vglSpriteMaterial={mixins:[VglMaterial,VglMapListener],props:{color:{type:string,default:'#fff'}},computed:{inst:function(){return new SpriteMaterial}},watch:{inst:{handler:function(a){a.color.setStyle(this.color)},immediate:!0},color:function(a){this.inst.color.setStyle(a),this.inst.dispatchEvent({type:'update'})}}},vglGridHelper={mixins:[VglLineSegments],props:{size:{type:number,default:10},divisions:{type:number,default:10},colorCenterLine:{type:string,default:'#444444'},colorGrid:{type:string,default:'#888888'}},computed:{inst:function(){return new GridHelper(parseFloat(this.size),parseInt(this.divisions,10),this.colorCenterLine,this.colorGrid)}}},vglShadowMaterial={mixins:[VglMaterial],computed:{inst:function(){return new ShadowMaterial}}},vglCameraHelper={mixins:[VglLineSegments],props:{camera:string},inject:['vglNamespace'],computed:{inst:function(){return new CameraHelper(this.vglNamespace.cameras[this.camera])}}},vglDirectionalLightHelper={mixins:[VglObject3d],props:{color:string,size:{type:number,default:1}},computed:{inst:function(){return new DirectionalLightHelper(this.vglObject3d.inst,parseFloat(this.size))}},watch:{inst:{handler:function(a){Object.assign(a,{color:this.color}),this.inst.update()},immediate:!0},color:function(a){Object.assign(this.inst,{color:a}),this.inst.update(),this.vglObject3d.update()}}},vglPolarGridHelper={mixins:[VglLineSegments],props:{radius:{type:number,default:10},radials:{type:number,default:16},circles:{type:number,default:8},divisions:{type:number,default:64},color1:{type:string,default:'#444444'},color2:{type:string,default:'#888888'}},computed:{inst:function(){return new PolarGridHelper(parseFloat(this.radius),parseInt(this.radials,10),parseInt(this.circles,10),parseInt(this.divisions,10),this.color1,this.color2)}}};export{VglNamespace,VglObject3d,vglScene as VglScene,VglCamera,vglRenderer as VglRenderer,vglPerspectiveCamera as VglPerspectiveCamera,vglGroup as VglGroup,VglLight,vglDirectionalLight as VglDirectionalLight,vglAmbientLight as VglAmbientLight,VglMaterial,vglPointsMaterial as VglPointsMaterial,VglGeometry,vglSphereGeometry as VglSphereGeometry,vglMeshStandardMaterial as VglMeshStandardMaterial,vglMesh as VglMesh,vglPoints as VglPoints,vglLineBasicMaterial as VglLineBasicMaterial,VglLine,vglSprite as VglSprite,vglBoxGeometry as VglBoxGeometry,vglCircleGeometry as VglCircleGeometry,VglLineSegments,vglLineLoop as VglLineLoop,vglConeGeometry as VglConeGeometry,vglAxesHelper as VglAxesHelper,vglOrthographicCamera as VglOrthographicCamera,VglCylinderGeometry,vglPlaneGeometry as VglPlaneGeometry,vglDodecahedronGeometry as VglDodecahedronGeometry,vglIcosahedronGeometry as VglIcosahedronGeometry,vglOctahedronGeometry as VglOctahedronGeometry,vglRingGeometry as VglRingGeometry,vglTetrahedronGeometry as VglTetrahedronGeometry,vglTorusGeometry as VglTorusGeometry,vglTorusKnotGeometry as VglTorusKnotGeometry,vglArrowHelper as VglArrowHelper,vglBoxHelper as VglBoxHelper,vglPointLight as VglPointLight,vglSpotLight as VglSpotLight,vglTexture as VglTexture,vglLensFlareProvider as VglLensFlareProvider,vglLensFlare as VglLensFlare,vglFont as VglFont,VglExtrudeGeometry,vglTextGeometry as VglTextGeometry,vglSpriteMaterial as VglSpriteMaterial,vglGridHelper as VglGridHelper,vglShadowMaterial as VglShadowMaterial,vglCameraHelper as VglCameraHelper,vglDirectionalLightHelper as VglDirectionalLightHelper,vglPolarGridHelper as VglPolarGridHelper};
