(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?b(exports,require('three')):'function'==typeof define&&define.amd?define(['exports','three'],b):b(a.VueGL={},a.THREE)})(this,function(a,b){'use strict';/**
 * Returns a parsed vector3 object when the argument is a string.
 * Otherwise pass the argument through.
 */function c(a){return a.isVector3?a:new b.Vector3().fromArray(a.trim().split(/\s+/).map(function(a){return parseFloat(a)}))}/**
 * Returns a parsed euler object when the argument is a string.
 * Othewise pass the argument through.
 */function d(a){return a.isEuler?a:new b.Euler().fromArray(a.trim().split(/\s+/).map(function(a,b){return 3===b?a:parseFloat(a)}))}/**
 * Returns a parsed spherical object when the argument is a string.
 * Otherwise pass the argument through.
 */function e(a){var c;return a.isSpherical?a:(c=new b.Spherical).set.apply(c,v(a.trim().split(/\s+/).map(function(a){return parseFloat(a)}))).makeSafe()}var f=Math.PI,g={};g.typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},g.jsx=function(){var a='function'==typeof Symbol&&Symbol.for&&Symbol.for('react.element')||60103;return function(b,c,d,e){var f=b&&b.defaultProps,g=arguments.length-3;if(c||0==g||(c={}),c&&f)for(var h in f)void 0===c[h]&&(c[h]=f[h]);else c||(c=f||{});if(1==g)c.children=e;else if(1<g){for(var j=Array(g),k=0;k<g;k++)j[k]=arguments[k+3];c.children=j}return{$$typeof:a,type:b,key:void 0===d?null:''+d,ref:null,props:c,_owner:null}}}(),g.asyncIterator=function(a){if('function'==typeof Symbol){if(Symbol.asyncIterator){var b=a[Symbol.asyncIterator];if(null!=b)return b.call(a)}if(Symbol.iterator)return a[Symbol.iterator]()}throw new TypeError('Object is not async iterable')},g.asyncGenerator=function(){function a(a){this.value=a}function b(b){function c(e,f){try{var g=b[e](f),h=g.value;h instanceof a?Promise.resolve(h.value).then(function(a){c('next',a)},function(a){c('throw',a)}):d(g.done?'return':'normal',g.value)}catch(a){d('throw',a)}}function d(a,b){'return'===a?e.resolve({value:b,done:!0}):'throw'===a?e.reject(b):e.resolve({value:b,done:!1});e=e.next,e?c(e.key,e.arg):f=null}var e,f;this._invoke=function(a,b){return new Promise(function(d,g){var h={key:a,arg:b,resolve:d,reject:g,next:null};f?f=f.next=h:(e=f=h,c(a,b))})},'function'!=typeof b.return&&(this.return=void 0)}return'function'==typeof Symbol&&Symbol.asyncIterator&&(b.prototype[Symbol.asyncIterator]=function(){return this}),b.prototype.next=function(a){return this._invoke('next',a)},b.prototype.throw=function(a){return this._invoke('throw',a)},b.prototype.return=function(a){return this._invoke('return',a)},{wrap:function(a){return function(){return new b(a.apply(this,arguments))}},await:function(b){return new a(b)}}}(),g.asyncGeneratorDelegate=function(a,b){function c(c,d){return e=!0,d=new Promise(function(b){b(a[c](d))}),{done:!1,value:b(d)}}var d={},e=!1;return'function'==typeof Symbol&&Symbol.iterator&&(d[Symbol.iterator]=function(){return this}),d.next=function(a){return e?(e=!1,a):c('next',a)},'function'==typeof a.throw&&(d.throw=function(a){if(e)throw e=!1,a;return c('throw',a)}),'function'==typeof a.return&&(d.return=function(a){return c('return',a)}),d},g.asyncToGenerator=function(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}return g.done?void a(h):Promise.resolve(h).then(function(a){d('next',a)},function(a){d('throw',a)})}return d('next')})}},g.classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')},g.createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g.defineEnumerableProperties=function(a,b){for(var c in b){var d=b[c];d.configurable=d.enumerable=!0,'value'in d&&(d.writable=!0),Object.defineProperty(a,c,d)}return a},g.defaults=function(a,b){for(var c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++){var e=c[d],f=Object.getOwnPropertyDescriptor(b,e);f&&f.configurable&&a[e]===void 0&&Object.defineProperty(a,e,f)}return a},g.defineProperty=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},g.extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},g.get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(e===void 0){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if('value'in e)return e.value;var g=e.get;return void 0===g?void 0:g.call(d)},g.inherits=function(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},g.instanceof=function(a,b){return null!=b&&'undefined'!=typeof Symbol&&b[Symbol.hasInstance]?b[Symbol.hasInstance](a):a instanceof b},g.interopRequireDefault=function(a){return a&&a.__esModule?a:{default:a}},g.interopRequireWildcard=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b},g.newArrowCheck=function(a,b){if(a!==b)throw new TypeError('Cannot instantiate an arrow function')},g.objectDestructuringEmpty=function(a){if(null==a)throw new TypeError('Cannot destructure undefined')},g.objectWithoutProperties=function(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c},g.possibleConstructorReturn=function(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a},g.selfGlobal='undefined'==typeof global?self:global,g.set=function a(b,c,d,e){var f=Object.getOwnPropertyDescriptor(b,c);if(f===void 0){var g=Object.getPrototypeOf(b);null!==g&&a(g,c,d,e)}else if('value'in f&&f.writable)f.value=d;else{var h=f.set;h!==void 0&&h.call(e,d)}return d},g.slicedToArray=function(){function a(a,b){var c,d=[],e=!0,f=!1;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(d.push(g.value),!(b&&d.length===b));e=!0);}catch(a){f=!0,c=a}finally{try{!e&&h['return']&&h['return']()}finally{if(f)throw c}}return d}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),g.slicedToArrayLoose=function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){for(var c,d=[],e=a[Symbol.iterator]();!(c=e.next()).done&&(d.push(c.value),!(b&&d.length===b)););return d}throw new TypeError('Invalid attempt to destructure non-iterable instance')},g.taggedTemplateLiteral=function(a,b){return Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))},g.taggedTemplateLiteralLoose=function(a,b){return a.raw=b,a},g.temporalRef=function(a,b,c){if(a===c)throw new ReferenceError(b+' is not defined - temporal dead zone');else return a},g.temporalUndefined={},g.toArray=function(a){return Array.isArray(a)?a:Array.from(a)},g.toConsumableArray=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)},g;var h=Boolean,i=[String],j=[String,Number],k=[String,b.Vector3],l=[String,b.Spherical],m=[String,b.Euler],n={render:function(a){var b=this.$slots.default;return b?a('div',b):void 0},inject:['vglNamespace'],props:{name:i},computed:{inst:function(){return new b.Geometry}},watch:{inst:{handler:function(a){this.$set(this.vglNamespace.geometries,this.name,a)},immediate:!0},name:function(a,b){this.vglNamespace.geometries[b]===this.inst&&this.$delete(this.vglNamespace.geometries,b),this.$set(this.vglNamespace.geometries,a,this.inst)}},beforeDestroy:function(){this.vglNamespace.geometries[this.name]===this.inst&&this.$delete(this.vglNamespace.geometries,this.name)}},o={render:function(a){var b=this.$slots.default;return b?a('div',b):void 0}},p={mixins:[n],props:{radius:{type:j,default:1},detail:{type:j,default:0}}},q={inject:['vglNamespace'],props:{material:i},computed:{materialObject:function(){return this.vglNamespace.materials[this.material]}},watch:{inst:{handler:function(a,b){this.materialObject&&(!b&&this.materialObject.addEventListener('update',this.vglObject3d.update),Object.assign(a,{material:this.materialObject}))},immediate:!0},materialObject:function(a,b){a!==b&&(b&&b.removeEventListener('update',this.vglObject3d.update),a&&(a.addEventListener('update',this.vglObject3d.update),Object.assign(this.inst,{material:a})),this.vglObject3d.update())}},beforeDestroy:function(){this.materialObject&&this.materialObject.removeEventListener('update',this.vglObject3d.update)}},r={inject:['vglNamespace'],props:{geometry:i},computed:{geometryObject:function(){return this.vglNamespace.geometries[this.geometry]}},watch:{inst:{handler:function(a,b){this.geometryObject&&(!b&&this.geometryObject.addEventListener('update',this.vglObject3d.update),Object.assign(a,{geometry:this.geometryObject}))},immediate:!0},geometryObject:function(a,b){a!==b&&(b&&b.removeEventListener('update',this.vglObject3d.update),a&&(a.addEventListener('update',this.vglObject3d.update),Object.assign(this.inst,{geometry:a})),this.vglObject3d.update())}},beforeDestroy:function(){this.geometryObject&&this.geometryObject.removeEventListener('update',this.vglObject3d.update)}},s={inject:['vglNamespace'],props:{map:i},computed:{texture:function(){return this.vglNamespace.textures[this.map]}},watch:{inst:{handler:function(a,b){this.texture&&(b&&this.texture.removeEventListener('update',b.update),this.texture.addEventListener('update',a.update)),Object.assign(a,{map:this.texture||null})},immediate:!0},texture:function(a,b){b&&b.removeEventListener('update',this.inst.update),a&&a.addEventListener('update',this.inst.update),Object.assign(this.inst,{map:a||null}),this.inst.update()}}},t={mixins:[o],inject:{vglNamespace:{default:function(){var a=this;return Object.defineProperties({},{cameras:{get:function(){return a.cameras}},scenes:{get:function(){return a.scenes}}})}}},data:function(){var a={}.hasOwnProperty.call(this.vglNamespace,'cameras')?{cameras:Object.create(null),scenes:Object.create(null)}:{};return Object.assign(a,{curves:Object.create(this.vglNamespace.curves||null),fonts:Object.create(this.vglNamespace.fonts||null),geometries:Object.create(this.vglNamespace.geometries||null),materials:Object.create(this.vglNamespace.materials||null),textures:Object.create(this.vglNamespace.textures||null)})},watch:{"vglNamespace.curves":function(a){this.curves=Object.assign(Object.create(a),this.curves)},"vglNamespace.fonts":function(a){this.fonts=Object.assign(Object.create(a),this.fonts)},"vglNamespace.geometries":function(a){this.geometries=Object.assign(Object.create(a),this.geometries)},"vglNamespace.materials":function(a){this.materials=Object.assign(Object.create(a),this.materials)},"vglNamespace.textures":function(a){this.textures=Object.assign(Object.create(a),this.textures)}},provide:function(){var a=this;return{vglNamespace:Object.create(this.vglNamespace,{curves:{get:function(){return a.curves}},fonts:{get:function(){return a.fonts}},geometries:{get:function(){return a.geometries}},materials:{get:function(){return a.materials}},textures:{get:function(){return a.textures}}})}}},u=function(){function a(a,b){var c,d=[],e=!0,f=!1;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(d.push(g.value),!(b&&d.length===b));e=!0);}catch(a){f=!0,c=a}finally{try{!e&&h['return']&&h['return']()}finally{if(f)throw c}}return d}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),v=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)},w={mixins:[o],inject:{vglObject3d:{default:function(){var a,b=this,c=[];return{listeners:c,update:function(){a||(b.$nextTick(function(){c.forEach(function(a){a()}),a=!1}),a=!0)}}}}},provide:function(){var a=this;return{vglObject3d:Object.create(this.vglObject3d,{inst:{get:function(){return a.inst}}})}},created:function(){this.inst.addEventListener('added',this.vglObject3d.update),this.inst.addEventListener('removed',this.vglObject3d.update),this.vglObject3d.inst&&this.vglObject3d.inst.add(this.inst),this.position&&this.inst.position.copy(c(this.position)),this.rotation&&this.inst.rotation.copy(d(this.rotation)),this.scale&&this.inst.scale.copy(c(this.scale)),Object.assign(this.inst,{castShadow:this.castShadow,receiveShadow:this.receiveShadow})},beforeDestroy:function(){this.inst.parent&&this.inst.parent.remove(this.inst)},computed:{inst:function(){return new b.Object3D}},props:{position:k,rotation:m,scale:k,castShadow:h,receiveShadow:h,name:i},watch:{inst:function(a,b){if(b){b.removeEventListener('added',this.vglObject3d.update),b.removeEventListener('removed',this.vglObject3d.update);var e=b.children,f=b.parent;e.length&&a.add.apply(a,v(e)),f&&f.remove(b)}a.addEventListener('added',this.vglObject3d.update),a.addEventListener('removed',this.vglObject3d.update),this.vglObject3d.inst&&this.vglObject3d.inst.add(a),this.position&&this.inst.position.copy(c(this.position)),this.rotation&&this.inst.rotation.copy(d(this.rotation)),this.scale&&this.inst.scale.copy(c(this.scale)),Object.assign(a,{castShadow:this.castShadow,receiveShadow:this.receiveShadow}),this.vglObject3d.update()},position:function(a){this.inst.position.copy(c(a)),this.vglObject3d.update()},rotation:function(a){this.inst.rotation.copy(d(a)),this.vglObject3d.update()},scale:function(a){this.inst.scale.copy(c(a)),this.vglObject3d.update()},castShadow:function(a){Object.assign(this.inst,{castShadow:a}),this.vglObject3d.update()},receiveShadow:function(a){Object.assign(this.inst,{receiveShadow:a}),this.vglObject3d.update()}}},x={mixins:[w],inject:['vglNamespace'],computed:{inst:function(){return new b.Camera}},props:{orbitTarget:k,orbitPosition:l},created:function(){this.vglObject3d.listeners.push(this.dispatchUpdate)},beforeDestroy:function(){this.vglObject3d.listeners.splice(this.vglObject3d.listeners.indexOf(this.dispatchUpdate),1),this.vglNamespace.cameras[this.name]===this.inst&&this.$delete(this.vglNamespace.cameras,this.name)},methods:{dispatchUpdate:function(){this.inst.dispatchEvent({type:'update'})},setOrbit:function(){if(this.orbitPosition||this.orbitTarget){var a=this.orbitTarget&&c(this.orbitTarget);if(this.orbitPosition){var d=this.inst.position.setFromSpherical(e(this.orbitPosition));a&&d.add(a)}this.inst.lookAt(a||new b.Vector3)}}},watch:{inst:{handler:function(a){this.$set(this.vglNamespace.cameras,this.name,a),this.setOrbit()},immediate:!0},name:function(a,b){this.vglNamespace.cameras[b]===this.inst&&this.$delete(this.vglNamespace.cameras,b),this.$set(this.vglNamespace.cameras,a,this.inst)},orbitTarget:function(){this.setOrbit(),this.vglObject3d.update()},orbitPosition:function(){this.setOrbit(),this.vglObject3d.update()}}},y={mixins:[w],props:{color:{type:i,default:'#fff'},intensity:{type:j,default:1}},computed:{inst:function(){return new b.Light}},watch:{inst:{handler:function(a){Object.assign(a,{intensity:parseFloat(this.intensity)}),a.color.setStyle(this.color)},immediate:!0},color:function(a){this.inst.color.setStyle(a),this.vglObject3d.update()},intensity:function(a){Object.assign(this.inst,{intensity:parseFloat(a)}),this.vglObject3d.update()}}},z={mixins:[o],inject:['vglNamespace'],props:{name:i},computed:{inst:function(){return new b.Material}},watch:{inst:{handler:function(a){this.$set(this.vglNamespace.materials,this.name,a)},immediate:!0},name:function(a,b){this.vglNamespace.materials[b]===this.inst&&this.$delete(this.vglNamespace.materials,b),this.$set(this.vglNamespace.materials,a,this.inst)}},beforeDestroy:function(){this.vglNamespace.materials[this.name]===this.inst&&this.$delete(this.vglNamespace.materials,this.name)}},A={mixins:[w,q,r],computed:{inst:function(){return new b.Line}}},B={mixins:[A],computed:{inst:function(){return new b.LineSegments}}},C={mixins:[n],props:{radiusTop:{type:j,default:1},radiusBottom:{type:j,default:1},height:{type:j,default:1},radialSegments:{type:j,default:8},heightSegments:{type:j,default:1},openEnded:h,thetaStart:{type:j,default:0},thetaLength:{type:j,default:2*f}},computed:{inst:function(){return new b.CylinderGeometry(parseFloat(this.radiusTop),parseFloat(this.radiusBottom),parseFloat(this.height),parseInt(this.radialSegments,10),parseInt(this.heightSegments,10),this.openEnded,parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},D={no:b.NoBlending,normal:b.NormalBlending,additive:b.AdditiveBlending,subtractive:b.SubtractiveBlending,multiply:b.MultiplyBlending,custom:b.CustomBlending},E={mixins:[n],computed:{inst:function(){return new b.ExtrudeGeometry([],{})}}};a.VglNamespace=t,a.VglObject3d=w,a.VglScene={mixins:[w],inject:['vglNamespace'],computed:{inst:function(){return new b.Scene}},created:function(){this.vglObject3d.listeners.push(this.dispatchUpdate)},beforeDestroy:function(){this.vglObject3d.listeners.splice(this.vglObject3d.listeners.indexOf(this.dispatchUpdate),1),this.vglNamespace.scenes[this.name]===this.inst&&this.$delete(this.vglNamespace.scenes,this.name)},methods:{dispatchUpdate:function(){this.inst.dispatchEvent({type:'update'})}},watch:{inst:{handler:function(a){this.$set(this.vglNamespace.scenes,this.name,a)},immediate:!0},name:function(a,b){this.vglNamespace.scenes[b]===this.inst&&this.$delete(this.vglNamespace.scenes,b),this.$set(this.vglNamespace.scenes,a,this.inst)}}},a.VglCamera=x,a.VglRenderer={mixins:[t],props:{precision:i,alpha:h,disablePremultipliedAlpha:h,antialias:h,disableStencil:h,preserveDrawingBuffer:h,disableDepth:h,logarithmicDepthBuffer:h,powerPreference:i,camera:i,scene:i,shadowMapEnabled:h},data:function(){return{el:!1}},computed:{renderer:function(){var a=new b.WebGLRenderer({precision:this.precision,alpha:this.alpha,premultipliedAlpha:!this.disablePremultipliedAlpha,antialias:this.antialias,stencil:!this.disableStencil,preserveDrawingBuffer:this.preserveDrawingBuffer,depth:!this.disableDepth,logarithmicDepthBuffer:this.logarithmicDepthBuffer,powerPreference:this.powerPreference});return a.shadowMap.enabled=this.shadowMapEnabled,a},cameraObject:function(){return this.vglNamespace.cameras[this.camera]},sceneObject:function(){return this.vglNamespace.scenes[this.scene]},state:function(){return[this.renderer,this.cameraObject,this.sceneObject,this.el]}},watch:{state:function(a,b){var c=u(b,4),d=c[0],e=c[1],f=c[2],g=c[3],h=u(a,4),i=h[0],j=h[1],k=h[2],l=h[3];if(!g&&l)this.$el.insertBefore(this.renderer.domElement,this.$el.firstChild),this.resizeRenderer(),j&&k&&(this.resizeCamera(),j.addEventListener('update',this.render),k.addEventListener('update',this.render),this.render());else if(l){var m=d!==i,n=e!==j,o=f!==k;m&&(this.resizeRenderer(),this.$el.replaceChild(i.domElement,d.domElement),d.dispose()),e&&f&&j&&k?(n&&(this.resizeCamera(),e.removeEventListener('update',this.render),j.addEventListener('update',this.render)),o&&(f.removeEventListener('update',this.render),k.addEventListener('update',this.render))):e&&f?(e.removeEventListener('update',this.render),f.removeEventListener('update',this.render)):j&&k&&(this.resizeCamera(),j.addEventListener('update',this.render),k.addEventListener('update',this.render)),j&&k&&(n||o||m)&&this.render()}}},beforeDestroy:function(){this.el&&this.cameraObject&&this.sceneObject&&(this.cameraObject.removeEventListener('update',this.render),this.sceneObject.removeEventListener('update',this.render)),this.renderer.dispose()},methods:{resizeRenderer:function(){this.renderer.setSize(this.$el.clientWidth,this.$el.clientHeight)},resizeCamera:function(){if(this.cameraObject.isPerspectiveCamera)Object.assign(this.cameraObject,{aspect:this.$el.clientWidth/this.$el.clientHeight});else if(this.cameraObject.isOrthographicCamera)Object.assign(this.cameraObject,{left:this.$el.clientWidth/-2,right:this.$el.clientWidth/2,top:this.$el.clientHeight/2,bottom:this.$el.clientHeight/-2});else throw new TypeError('Unexpected camera type.');this.cameraObject.updateProjectionMatrix()},render:function(){this.renderer.render(this.sceneObject,this.cameraObject)}},mounted:function(){this.el=!0},render:function(a){var b=this;return a('div',[a('iframe',{style:{visibility:'hidden',width:'100%',height:'100%'},on:{load:function(a){a.target.contentWindow.addEventListener('resize',function(){b.resizeRenderer(),b.cameraObject&&b.sceneObject&&(b.resizeCamera(),b.render())},!1)}}},this.$slots.default)])}},a.VglPerspectiveCamera={mixins:[x],props:{zoom:{type:j,default:1},near:{type:j,default:0.1},far:{type:j,default:2e3},fov:{type:j,default:50}},computed:{inst:function(){return new b.PerspectiveCamera}},watch:{inst:{handler:function(a){Object.assign(a,{zoom:parseFloat(this.zoom),near:parseFloat(this.near),far:parseFloat(this.far),fov:parseFloat(this.fov)})},immediate:!0},zoom:function(a){Object.assign(this.inst,{zoom:parseFloat(a)}),this.vglObject3d.update()},near:function(a){Object.assign(this.inst,{near:parseFloat(a)}),this.vglObject3d.update()},far:function(a){Object.assign(this.inst,{far:parseFloat(a)}),this.vglObject3d.update()},fov:function(a){Object.assign(this.inst,{fov:parseFloat(a)}),this.vglObject3d.update()}}},a.VglGroup={mixins:[w],computed:{inst:function(){return new b.Group}}},a.VglLight=y,a.VglDirectionalLight={mixins:[y],computed:{inst:function(){return new b.DirectionalLight}},props:{castShadow:h},watch:{inst:{handler:function(a){Object.assign(a,{castShadow:this.castShadow})},immediate:!0},castShadow:function(a){Object.assign(this.inst,{castShadow:a}),this.vglObject3d.update()}}},a.VglAmbientLight={mixins:[y],computed:{inst:function(){return new b.AmbientLight}}},a.VglMaterial=z,a.VglPointsMaterial={mixins:[z],props:{color:{type:i,default:'#fff'},size:{type:j,default:1},disableSizeAttenuation:h,lights:h},computed:{inst:function(){return new b.PointsMaterial}},watch:{inst:{handler:function(a){Object.assign(a,{size:parseFloat(this.size),sizeAttenuation:!this.disableSizeAttenuation,lights:this.lights}),a.color.setStyle(this.color)},immediate:!0},color:function(a){this.inst.color.setStyle(a),this.inst.dispatchEvent({type:'update'})},size:function(a){Object.assign(this.inst,{size:parseFloat(a)}),this.inst.dispatchEvent({type:'update'})},disableSizeAttenuation:function(a){Object.assign(this.inst,{sizeAttenuation:!a}),this.inst.dispatchEvent({type:'update'})},lights:function(a){Object.assign(this.inst,{lights:a}),this.inst.dispatchEvent({type:'update'})}}},a.VglGeometry=n,a.VglSphereGeometry={mixins:[n],props:{radius:{type:j,default:1},widthSegments:{type:j,default:8},heightSegments:{type:j,default:6},phiStart:{type:j,default:0},phiLength:{type:j,default:2*f},thetaStart:{type:j,default:0},thetaLength:{type:j,default:f}},computed:{inst:function(){return new b.SphereGeometry(parseFloat(this.radius),parseInt(this.widthSegments,10),parseInt(this.heightSegments,10),parseFloat(this.phiStart),parseFloat(this.phiLength),parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},a.VglMeshStandardMaterial={mixins:[z,s],props:{color:{type:i,default:'#fff'}},computed:{inst:function(){return new b.MeshStandardMaterial}},watch:{inst:{handler:function(a){a.color.setStyle(this.color)},immediate:!0},color:function(a){this.inst.color.setStyle(a),this.inst.dispatchEvent({type:'update'})}}},a.VglMesh={mixins:[w,q,r],computed:{inst:function(){return new b.Mesh}}},a.VglPoints={mixins:[w,q,r],computed:{inst:function(){return new b.Points}}},a.VglLineBasicMaterial={mixins:[z],props:{color:{type:i,default:'#fff'},lights:h,linewidth:{type:j,default:1},linecap:{type:i,default:'round'},linejoin:{type:i,default:'round'}},computed:{inst:function(){return new b.LineBasicMaterial}},watch:{inst:{handler:function(a){Object.assign(a,{lights:this.lights,linecap:this.linecap,linejoin:this.linejoin,linewidth:parseFloat(this.linewidth)}),a.color.setStyle(this.color)},immediate:!0},color:function(a){this.inst.color.setStyle(a),this.inst.dispatchEvent({type:'update'})},lights:function(a){Object.assign(this.inst,{lights:a}),this.inst.dispatchEvent({type:'update'})},linewidth:function(a){Object.assign(this.inst,{linewidth:parseFloat(a)}),this.inst.dispatchEvent({type:'update'})},linecap:function(a){Object.assign(this.inst,{linecap:a}),this.inst.dispatchEvent({type:'update'})},linejoin:function(a){Object.assign(this.inst,{linejoin:a}),this.inst.dispatchEvent({type:'update'})}}},a.VglLine=A,a.VglSprite={mixins:[w,q],computed:{inst:function(){return new b.Sprite}}},a.VglBoxGeometry={mixins:[n],props:{width:{type:j,default:1},height:{type:j,default:1},depth:{type:j,default:1},widthSegments:{type:j,default:1},heightSegments:{type:j,default:1},depthSegments:{type:j,default:1}},computed:{inst:function(){return new b.BoxGeometry(parseFloat(this.width),parseFloat(this.height),parseFloat(this.depth),parseInt(this.widthSegments,10),parseInt(this.heightSegments,10),parseInt(this.depthSegments,10))}}},a.VglCircleGeometry={mixins:[n],props:{radius:{type:j,default:1},segments:{type:j,default:8},thetaStart:{type:j,default:0},thetaLength:{type:j,default:2*f}},computed:{inst:function(){return new b.CircleGeometry(parseFloat(this.radius),parseInt(this.segments,10),parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},a.VglLineSegments=B,a.VglLineLoop={mixins:[A],computed:{inst:function(){return new b.LineLoop}}},a.VglConeGeometry={mixins:[C],props:{radius:{type:j,default:1}},computed:{inst:function(){return new b.ConeGeometry(parseFloat(this.radius),parseFloat(this.height),parseInt(this.radialSegments,10),parseInt(this.heightSegments,10),this.openEnded,parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},a.VglAxesHelper={mixins:[B],props:{size:{type:j,default:1}},computed:{inst:function(){return new b.AxesHelper(parseFloat(this.size))}}},a.VglOrthographicCamera={mixins:[x],props:{zoom:{type:j,default:1},near:{type:j,default:0.1},far:{type:j,default:2e3}},computed:{inst:function(){return new b.OrthographicCamera}},watch:{inst:{handler:function(a){Object.assign(a,{zoom:parseFloat(this.zoom),near:parseFloat(this.near),far:parseFloat(this.far)})},immediate:!0},zoom:function(a){Object.assign(this.inst,{zoom:parseFloat(a)}),this.vglObject3d.update()},near:function(a){Object.assign(this.inst,{near:parseFloat(a)}),this.vglObject3d.update()},far:function(a){Object.assign(this.inst,{far:parseFloat(a)}),this.vglObject3d.update()}}},a.VglCylinderGeometry=C,a.VglPlaneGeometry={mixins:[n],props:{width:{type:j,default:1},height:{type:j,default:1},widthSegments:{type:j,default:1},heightSegments:{type:j,default:1}},computed:{inst:function(){return new b.PlaneGeometry(parseFloat(this.width),parseFloat(this.height),parseInt(this.widthSegments,10),parseInt(this.heightSegments,10))}}},a.VglDodecahedronGeometry={mixins:[p],computed:{inst:function(){return new b.DodecahedronGeometry(parseFloat(this.radius),parseInt(this.detail,10))}}},a.VglIcosahedronGeometry={mixins:[p],computed:{inst:function(){return new b.IcosahedronGeometry(parseFloat(this.radius),parseInt(this.detail,10))}}},a.VglOctahedronGeometry={mixins:[p],computed:{inst:function(){return new b.OctahedronGeometry(parseFloat(this.radius),parseInt(this.detail,10))}}},a.VglRingGeometry={mixins:[n],props:{innerRadius:{type:j,default:0.5},outerRadius:{type:j,default:1},thetaSegments:{type:j,default:8},phiSegments:{type:j,default:1},thetaStart:{type:j,default:0},thetaLength:{type:j,default:2*f}},computed:{inst:function(){return new b.RingGeometry(parseFloat(this.innerRadius),parseFloat(this.outerRadius),parseInt(this.thetaSegments,10),parseInt(this.phiSegments,10),parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},a.VglTetrahedronGeometry={mixins:[p],computed:{inst:function(){return new b.TetrahedronGeometry(parseFloat(this.radius),parseInt(this.detail,10))}}},a.VglTorusGeometry={mixins:[n],props:{radius:{type:j,default:1},tube:{type:j,default:0.4},radialSegments:{type:j,default:8},tubularSegments:{type:j,default:6},arc:{type:j,default:2*f}},computed:{inst:function(){return new b.TorusGeometry(parseFloat(this.radius),parseFloat(this.tube),parseInt(this.radialSegments,10),parseInt(this.tubularSegments,10),parseFloat(this.arc))}}},a.VglTorusKnotGeometry={mixins:[n],props:{radius:{type:j,default:1},tube:{type:j,default:0.4},radialSegments:{type:j,default:8},tubularSegments:{type:j,default:64},p:{type:j,default:2},q:{type:j,default:3}},computed:{inst:function(){return new b.TorusKnotGeometry(parseFloat(this.radius),parseFloat(this.tube),parseInt(this.tubularSegments,10),parseInt(this.radialSegments,10),parseInt(this.p,10),parseInt(this.q,10))}}},a.VglArrowHelper={mixins:[w],props:{dir:k,length:{type:j,default:1},headLength:j,headWidth:j,color:{type:i,default:'#ff0'}},computed:{inst:function(){return new b.ArrowHelper(new b.Vector3(0,1),new b.Vector3())},lengths:function(){return[parseFloat(this.length),this.headLength?parseFloat(this.headLength):void 0,this.headWidth?parseFloat(this.headWidth):void 0]}},watch:{inst:{handler:function(a){a.setDirection(c(this.dir).normalize()),a.setLength.apply(a,v(this.lengths)),a.setColor(new b.Color(this.color))},immediate:!0},dir:function(a){this.inst.setDirection(c(a).normalize()),this.vglObject3d.update()},lengths:function(a){var b;(b=this.inst).setLength.apply(b,v(a)),this.vglObject3d.update()},color:function(a){this.inst.setColor(new b.Color(a)),this.vglObject3d.update()}}},a.VglBoxHelper={mixins:[B],props:{color:{type:i,default:'#ff0'}},computed:{inst:function(){return new b.BoxHelper}},watch:{inst:{handler:function(a){a.setFromObject(this.vglObject3d.inst),a.material.color.setStyle(this.color)},immediate:!0},"vglObject3d.inst":function(a){this.inst.setFromObject(a),this.vglObject3d.update()},color:function(a){this.inst.material.color.setStyle(a),this.vglObject3d.update()}}},a.VglPointLight={mixins:[y],props:{distance:{type:j,default:0},decay:{type:j,default:1}},computed:{inst:function(){return new b.PointLight}},watch:{inst:{handler:function(a){Object.assign(a,{distance:parseFloat(this.distance),decay:parseFloat(this.decay)})},immediate:!0},distance:function(a){Object.assign(this.inst,{distance:parseFloat(a)}),this.vglObject3d.update()},decay:function(a){Object.assign(this.inst,{decay:parseFloat(a)}),this.vglObject3d.update()}}},a.VglSpotLight={mixins:[y],props:{distance:{type:j,default:0},decay:{type:j,default:1},angle:{type:j,default:f/3},penumbra:{type:j,default:0},target:{type:k}},computed:{inst:function(){return new b.SpotLight}},beforeDestroy:function(){this.inst.target.parent&&this.inst.target.parent.remove(this.inst.target)},watch:{inst:{handler:function(a,b){b&&b.target.parent&&b.target.parent.remove(b.target),this.vglObject3d.inst&&this.vglObject3d.inst.add(a.target),c(this.target,a.target),Object.assign(a,{distance:parseFloat(this.distance),decay:parseFloat(this.decay),angle:parseFloat(this.angle),penumbra:parseFloat(this.penumbra)})},immediate:!0},distance:function(a){Object.assign(this.inst,{distance:parseFloat(a)}),this.vglObject3d.update()},decay:function(a){Object.assign(this.inst,{decay:parseFloat(a)}),this.vglObject3d.update()},angle:function(a){Object.assign(this.inst,{angle:parseFloat(a)}),this.vglObject3d.update()},penumbra:function(a){Object.assign(this.inst,{penumbra:parseFloat(a)}),this.vglObject3d.update()},target:function(a){c(a,this.inst.target.position),this.vglObject3d.update()}}},a.VglTexture={mixins:[o],inject:['vglNamespace'],props:{src:i,name:i},computed:{inst:function(){return new b.TextureLoader().load(this.src)}},watch:{inst:{handler:function(a){this.$set(this.vglNamespace.textures,this.name,a)},immediate:!0},name:function(a,b){this.vglNamespace.textures[b]===this.inst&&this.$delete(this.vglNamespace.textures,b),this.$set(this.vglNamespace.textures,a,this.inst)}},beforeDestroy:function(){this.vglNamespace.textures[this.name]===this.inst&&this.$delete(this.vglNamespace.textures,this.name)}},a.VglLensFlareProvider={mixins:[w],provide:function(){var a=this;return{vglLensFlare:Object.defineProperties({},{inst:{get:function(){return a.inst}},update:{value:this.vglObject3d.update}})}},computed:{inst:function(){return new b.LensFlare}}},a.VglLensFlare={mixins:[o],inject:['vglTextures','vglLensFlare'],props:{texture:i,size:{type:j,default:-1},distance:{type:j,default:0},blending:{type:j,default:'normal'},color:{type:i,default:'#fff'},opacity:{type:j,default:1}},data:function(){return{inst:{size:-1,distance:0,blending:b.NormalBlending,color:new b.Color('#fff'),opacity:1}}},computed:{textureObject:function(){return this.vglNamespace[this.texture]}},beforeDestroy:function(){if(this.inst.texture){var a=this.vglLensFlare.inst.lensFlares;a.splice(a.indexOf(this.inst),1),this.vglLensFlare.update()}},watch:{textureObject:{handler:function(a,b){if(a&&b)Object.assign(this.inst,{texture:a});else if(a){this.vglLensFlare.inst.add(a,this.inst.size,this.inst.distance,this.inst.blending,this.inst.color,this.inst.opacity);var c=this.vglLensFlare.lensFlares.slice(-1),d=u(c,1);this.inst=d[0]}else{var e=this.vglLensFlare.inst.lensFlares;e.splice(e.indexOf(this.inst),1),this.$delete(this.inst,'texture')}this.vglLensFlare.update()},immediate:!0},size:function(a){Object.assign(this.inst,{size:parseFloat(a)}),this.vglLensFlare.update()},distance:function(a){Object.assign(this.inst,{distance:parseFloat(a)}),this.vglLensFlare.update()},blending:function(a){Object.assign(this.inst,{blending:D[a]}),this.vglLensFlare.update()},color:function(a){this.inst.color.setStyle(a),this.vglLensFlare.update()},opacity:function(a){Object.assign(this.inst,{opacity:parseFloat(a)}),this.vglLensFlare.update()}}},a.VglFont={mixins:[o],inject:['vglNamespace'],props:{src:i,name:i},data:function(){return{inst:new b.Font({})}},watch:{inst:{handler:function(a){this.$set(this.vglNamespace.fonts,this.name,a)},immediate:!0},src:{handler:function(a){var c=this;new b.FontLoader().load(a,function(b){a===c.src&&(c.inst=b)})},immediate:!0},name:function(a,b){this.vglNamespace.fonts[b]===this.inst&&this.$delete(this.vglNamespace.fonts,b),this.$set(this.vglNamespace.fonts,a,this.inst)}},beforeDestroy:function(){this.vglNamespace.fonts[this.name]===this.inst&&this.$delete(this.vglNamespace.fonts,this.name)}},a.VglExtrudeGeometry=E,a.VglTextGeometry={mixins:[E],inject:['vglNamespace'],props:{text:i,font:i,size:{type:j,default:100},height:{type:j,default:50},curveSegments:{type:j,default:12},bevelEnabled:h,bevelThickness:{type:j,default:10},bevelSize:{type:j,default:8},bevelSegments:{type:j,default:3}},computed:{inst:function(){return new b.TextGeometry(this.text,{font:this.vglNamespace.fonts[this.font],size:parseFloat(this.size),height:parseFloat(this.height),curveSegments:parseInt(this.curveSegments,10),bevelEnabled:this.bevelEnabled,bevelThickness:parseFloat(this.bevelThickness),bevelSize:parseFloat(this.bevelSize),bevelSegments:parseInt(this.bevelSegments,10)})}}},a.VglSpriteMaterial={mixins:[z,s],props:{color:{type:i,default:'#fff'}},computed:{inst:function(){return new b.SpriteMaterial}},watch:{inst:{handler:function(a){a.color.setStyle(this.color)},immediate:!0},color:function(a){this.inst.color.setStyle(a),this.inst.dispatchEvent({type:'update'})}}},a.VglGridHelper={mixins:[B],props:{size:{type:j,default:10},divisions:{type:j,default:10},colorCenterLine:{type:i,default:'#444444'},colorGrid:{type:i,default:'#888888'}},computed:{inst:function(){return new b.GridHelper(parseFloat(this.size),parseInt(this.divisions,10),this.colorCenterLine,this.colorGrid)}}},a.VglShadowMaterial={mixins:[z],computed:{inst:function(){return new b.ShadowMaterial}}},a.VglCameraHelper={mixins:[B],props:{camera:i},inject:['vglNamespace'],computed:{inst:function(){return new b.CameraHelper(this.vglNamespace.cameras[this.camera])}}},a.VglDirectionalLightHelper={mixins:[w],props:{color:i,size:{type:j,default:1}},computed:{inst:function(){return new b.DirectionalLightHelper(new THREE.DirectionalLight(),parseFloat(this.size))}},watch:{inst:{handler:function(a){this.vglObject3d.inst.updateMatrixWorld(),Object.assign(a,{color:this.color,light:this.vglObject3d.inst,matrix:this.vglObject3d.inst.matrixWorld}),this.inst.update()},immediate:!0},color:function(a){Object.assign(this.inst,{color:a}),this.inst.update(),this.vglObject3d.update()}}},a.VglPolarGridHelper={mixins:[B],props:{radius:{type:j,default:10},radials:{type:j,default:16},circles:{type:j,default:8},divisions:{type:j,default:64},color1:{type:i,default:'#444444'},color2:{type:i,default:'#888888'}},computed:{inst:function(){return new b.PolarGridHelper(parseFloat(this.radius),parseInt(this.radials,10),parseInt(this.circles,10),parseInt(this.divisions,10),this.color1,this.color2)}}},Object.defineProperty(a,'__esModule',{value:!0})});
